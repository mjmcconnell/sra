{"version":3,"sources":["webpack:///webpack/bootstrap b1b7ddee8868c5a387b1","webpack:///admin.js"],"names":[],"mappings":"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","file":"admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap b1b7ddee8868c5a387b1\n **/","var app = angular.module('App', ['ngMaterial', 'md.data.table']); // jshint ignore:line\n\n// Syntax changed to prevent conflicts with jinja2\napp.config(['$interpolateProvider', function($interpolateProvider){\n    $interpolateProvider.startSymbol('{[');\n    $interpolateProvider.endSymbol(']}');\n}]);\n\n// The ng-model is does not support file inputs, so we create our own\napp.directive('fileModel', ['$parse', function ($parse) {\n    return {\n        restrict: 'A',\n        link: function(scope, element, attrs) {\n            var model = $parse(attrs.fileModel);\n            var modelSetter = model.assign;\n\n            element.bind('change', function(){\n                scope.$apply(function(){\n                    modelSetter(scope, element[0].files[0]);\n                });\n            });\n        }\n    };\n}]);\n\n// Populate input fields if value is set\napp.directive('input', ['$parse', function ($parse) {\n    return {\n        restrict: 'E',\n        require: '?ngModel',\n        link: function (scope, element, attrs) {\n            if(attrs.value && attrs.value !== 'None' && attrs.type !== \"file\") {\n                $parse(attrs.ngModel).assign(scope, attrs.value);\n            }\n        }\n    };\n}]);\n\n// List controller\napp.controller('AppCtrl', function($scope, $log, $http, $filter, $mdSidenav, $mdDialog) {\n    // pathname without the inital forward slash\n    var pathname = window.location.pathname.substring(1)\n    var url_parts = ['/api', pathname]\n    var base_url = url_parts.join('/');\n\n    $scope.flashMessages = [];\n    $scope.formData = {};\n    $scope.isProcessing = false;\n    $scope.records = [];\n    $scope.selected = [];\n    $scope.xsrf = '';\n\n    // Set options for pagination\n    $scope.options = {\n        autoSelect: true,\n        boundaryLinks: false,\n        largeEditDialog: false,\n        pageSelector: false,\n        rowSelection: true\n    };\n\n    // Set query options for pagination\n    $scope.query = {\n        order: 'user_defined_order',\n        limit: 10,\n        page: 1\n    };\n\n    // Simple replacement method of links\n    $scope.clearFlashMessage = function(index) {\n        $scope.flashMessages.splice(index, 1);\n    }\n\n    $scope.openNav = function() {\n        $mdSidenav('left').toggle();\n    };\n\n    $scope.openForm = function(event, index) {\n        event.stopPropagation();\n\n        $scope.formData = {};\n        if (index !== undefined) {\n            $scope.formData = angular.copy($scope.records.data[index]);\n        }\n        $mdSidenav('right').toggle();\n    };\n\n    $scope.closeForm = function() {\n        $mdSidenav('right').toggle();\n    };\n\n    $scope.fetchItems = function() {\n        $scope.records = [];\n        // Fetch all active records\n        $http.get(base_url).\n            success(function(results) {\n                $scope.records = results;\n            }).\n            error(function(error) {\n                $log.log(error);\n            });\n    };\n\n    // Fetch all items for given model\n    $scope.fetchItems();\n\n    $scope.deleteSelected = function() {\n        $scope.flashMessages = [];\n\n        // Appending dialog to document.body to cover sidenav in docs app\n        var confirm = $mdDialog.confirm()\n            .title('Delete item')\n            .content('Are you sure you want to remove the selected item(s)?')\n            .ariaLabel('Delete item')\n            .ok('Delete')\n            .cancel('Cancel')\n            .clickOutsideToClose(true);\n\n        $mdDialog.show(confirm).then(function() {\n            angular.forEach($scope.selected, function(item) {   // jshint ignore:line\n                var deleteUrl = [base_url, item.id].join('/');\n                // Remove item from backend\n                $http.delete(deleteUrl).\n                    success(function() {\n                        $scope.flashMessages.push([\n                            'Items deleted',\n                            'success'\n                        ]);\n                    }).\n                    error(function(error) {\n                        $scope.flashMessages.push([\n                            'Failed to remove items, please try again.',\n                            'warning'\n                        ]);\n                    });\n            });\n            setTimeout(function() {\n                $scope.selected = [];\n                $scope.fetchItems();\n            }, 500);\n        });\n    };\n\n    // Process a form\n    $scope.submitForm = function(_id){\n        $scope.serverErrors = {};\n        $scope.flashMessages = [];\n        $scope.isProcessing = true;\n\n        var uploadUrl = base_url;\n        if (_id){\n            uploadUrl = [base_url, _id].join('/')\n        }\n\n        // Create an empty FormData object to store all form fields\n        var fd = new FormData();\n\n        // Loop through all of the image fields, and append them to the FormData object\n        for (var key in $scope.imageFields) {\n            fd.append(key, $scope.imageFields[key], $scope.imageFields[key]['name']);\n        }\n\n        // Loop through all other fields, and append them to the FormData object\n        $scope.formData.xsrf = $scope.xsrf;\n        for (var key in $scope.formData) {\n            if ($scope.formData[key]) {\n                fd.append(key, $scope.formData[key]);\n            }\n        }\n\n        // Send the data of to the api, to be stored by the server\n        $http.post(uploadUrl, fd, {\n            transformRequest: angular.identity,\n            headers: {'Content-Type': undefined}\n        })\n        .success(function(result){\n            $scope.isProcessing = false;\n            $scope.flashMessages.push(['Form Saved', 'success']);\n            if (_id) {\n                // Update record\n                var record = $filter('filter')($scope.records.data, {id: _id});\n                record = result;\n            } else {\n                // Append new record to list\n                $scope.records.data.push(result['data']);\n                $scope.records.count = $scope.records.count + 1;\n            }\n            $scope.closeForm();\n        })\n        .error(function(error, status){\n            $scope.isProcessing = false;\n            var error_message = 'Something went wrong, please try again.'\n            if (error['message']) {\n                error_message = error['message'];\n            } else if (error['error']) {\n                error_message = error['error'];\n            }\n            $scope.flashMessages.push([error_message, 'warning']);\n            for (var key in error['data']) {\n                $scope.serverErrors[key] = error['data'][key];\n            }\n        });\n    };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** admin.js\n **/"],"sourceRoot":""}